# 微博舆情分析系统 - 环境变量配置模板
# 复制此文件为 .env 并填入实际值

# ========== Flask 配置 ==========
# Flask 密钥（用于 session 加密，请使用随机生成的强密钥）
# 可使用命令生成: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your-secret-key-here

# JWT 密钥（用于 API Bearer Token 签名）
# 建议生产环境单独配置；如不配置，将复用 SECRET_KEY
JWT_SECRET_KEY=your-jwt-secret-key-here

# JWT 有效期（小时）
JWT_EXPIRATION_HOURS=24

# Flask 运行环境: development / production
FLASK_ENV=development

# 调试模式: True / False
DEBUG=True

# ========== 数据库配置 ==========
# MySQL 数据库主机地址
DB_HOST=localhost

# MySQL 数据库端口
DB_PORT=3306

# MySQL 数据库用户名
DB_USER=root

# MySQL 数据库密码（重要：请修改为实际密码）
DB_PASSWORD=your-password-here

# MySQL 数据库名称
DB_NAME=wb

# 数据库连接池最大连接数
DB_POOL_SIZE=10

# ========== Redis / Celery 配置 ==========
# 推荐统一使用 REDIS_URL，CELERY_* 默认继承该值
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# ========== LLM 配置（可选） ==========
LLM_API_KEY=
LLM_API_URL=https://api.openai.com/v1/chat/completions
LLM_MODEL=gpt-4o-mini
LLM_TIMEOUT=30
LLM_CACHE_TTL=3600

# ========== 爬虫配置 ==========
# 微博 Cookie（用于爬虫认证，从浏览器开发者工具中获取）
WEIBO_COOKIE=

# 微博 User-Agent（可选，留空使用默认值）
WEIBO_USER_AGENT=

# HTTP 请求超时时间（秒，默认 45）
SPIDER_TIMEOUT=45

# 请求间隔延时（秒，默认 15；实际延时为 DELAY ~ DELAY*2）
SPIDER_DELAY=15

# 最大重试次数（对应代码中的 Config.SPIDER_RETRIES）
SPIDER_MAX_RETRIES=3

# 是否使用代理（True / False）
SPIDER_USE_PROXY=False

# 是否启用独立 Spider 服务（True / False）
SPIDER_SERVICE_ENABLED=False

# 独立 Spider 服务地址（启用时生效）
SPIDER_SERVICE_BASE_URL=http://localhost:8090

# 独立 Spider 服务请求超时（秒）
SPIDER_SERVICE_TIMEOUT=15

# 独立 Spider 服务鉴权令牌（可选）
SPIDER_SERVICE_TOKEN=

# 独立 Spider 服务不可用时是否回退本地任务（True / False）
SPIDER_SERVICE_FALLBACK_LOCAL=True

# ========== 日志配置 ==========
# 日志级别: DEBUG / INFO / WARNING / ERROR
LOG_LEVEL=INFO

# ========== 前端跨域配置 ==========
# 允许跨域的前端来源（逗号分隔）
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# ========== 管理员配置 ==========
# 管理员用户名列表（逗号分隔），用于部分高危操作限制
ADMIN_USERS=admin
